// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.25.0
// source: migrationscript.sql

package model

import (
	"context"
)

const createMigrationScript = `-- name: CreateMigrationScript :exec
INSERT OR IGNORE INTO
  "migration_script" ("version", "identifier", "up", "down")
VALUES
  (?1, ?2, ?3, ?4)
`

type CreateMigrationScriptParams struct {
	Version    int64  `db:"version" json:"version"`
	Identifier string `db:"identifier" json:"identifier"`
	Up         string `db:"up" json:"up"`
	Down       string `db:"down" json:"down"`
}

// CreateMigrationScript
//
//	INSERT OR IGNORE INTO
//	  "migration_script" ("version", "identifier", "up", "down")
//	VALUES
//	  (?1, ?2, ?3, ?4)
func (q *Queries) CreateMigrationScript(ctx context.Context, arg CreateMigrationScriptParams) error {
	_, err := q.exec(ctx, q.createMigrationScriptStmt, createMigrationScript,
		arg.Version,
		arg.Identifier,
		arg.Up,
		arg.Down,
	)
	return err
}

const deleteMigrationScript = `-- name: DeleteMigrationScript :exec
DELETE FROM "migration_script"
WHERE
  "version" = ?1
  AND "identifier" = ?2
`

type DeleteMigrationScriptParams struct {
	Version    int64  `db:"version" json:"version"`
	Identifier string `db:"identifier" json:"identifier"`
}

// DeleteMigrationScript
//
//	DELETE FROM "migration_script"
//	WHERE
//	  "version" = ?1
//	  AND "identifier" = ?2
func (q *Queries) DeleteMigrationScript(ctx context.Context, arg DeleteMigrationScriptParams) error {
	_, err := q.exec(ctx, q.deleteMigrationScriptStmt, deleteMigrationScript, arg.Version, arg.Identifier)
	return err
}

const listMigrationScripts = `-- name: ListMigrationScripts :many
SELECT
  "version"   ,
  "identifier",
  "up"        ,
  "down"
FROM
  "migration_script"
`

// ListMigrationScripts
//
//	SELECT
//	  "version"   ,
//	  "identifier",
//	  "up"        ,
//	  "down"
//	FROM
//	  "migration_script"
func (q *Queries) ListMigrationScripts(ctx context.Context) ([]MigrationScript, error) {
	rows, err := q.query(ctx, q.listMigrationScriptsStmt, listMigrationScripts)
	if err != nil {
		return nil, err
	}
	defer rows.Close()
	var items []MigrationScript
	for rows.Next() {
		var i MigrationScript
		if err := rows.Scan(
			&i.Version,
			&i.Identifier,
			&i.Up,
			&i.Down,
		); err != nil {
			return nil, err
		}
		items = append(items, i)
	}
	if err := rows.Close(); err != nil {
		return nil, err
	}
	if err := rows.Err(); err != nil {
		return nil, err
	}
	return items, nil
}
